\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
    \usepackage{xltxtra,xunicode}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
  \newcommand{\euro}{â‚¬}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\ifxetex
  \usepackage[setpagesize=false, % page size defined by xetex
              unicode=false, % unicode breaks when used with xetex
              xetex]{hyperref}
\else
  \usepackage[unicode=true]{hyperref}
\fi
\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={Dominik Cullmann},
            pdftitle={markdown comments for various source files},
            colorlinks=true,
            citecolor=blue,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}
\urlstyle{same}  % don't use monospace font for urls
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}

\title{markdown comments for various source files}
\author{Dominik Cullmann}
\date{}

% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\begin{document}
\maketitle

extract markdown-like comments from (source code) file, convert them to
valid markdown and run pandoc on it. Since the comment characters for
different languages differ, this program can be adjusted to use the
comment character used in your file by command line arguments.

copyright: 2014-2017, Dominik Cullmann license: BSD 2-Clause maintainer:
Dominik cullmann email: dominik.cullmann@forst.bwl.de

\section{import modules}\label{import-modules}

\subsection{\texorpdfstring{\emph{This} is an example markdown comment
of heading level
2}{This is an example markdown comment of heading level 2}}\label{this-is-an-example-markdown-comment-of-heading-level-2}

\textbf{This} is an example of a markdown paragraph: markdown recognizes
only six levels of heading, so we use seven levels to mark ``normal''
text. Here you can use the full
\href{http://daringfireball.net/projects/markdown/syntax}{markdown
syntax}. \emph{Note} the trailing line: markdown needs an empty line to
end a paragraph.

\section{define parser}\label{define-parser}

\section{define converter}\label{define-converter}

remove 7 or more heading levels.\\
remove the first occurence of the magic\_character (the header
definition of pandoc``s markdown uses the percent sign, if that is the
magic pattern, all pandoc standard headers would end up to be simple
text.\\
empty lines (ending markdown paragraphs) are not written by
file.write(), so we replace them by newlines.

\section{write file contents}\label{write-file-contents}

\subsection{get matchting lines}\label{get-matchting-lines}

\subsection{convert matched lines to
markdown}\label{convert-matched-lines-to-markdown}

\subsection{write md file}\label{write-md-file}

\subsection{run pandoc}\label{run-pandoc}

\subsubsection{If on posix\ldots{}}\label{if-on-posix}

\paragraph{\ldots{} tex it}\label{tex-it}

\paragraph{\ldots{} warn otherwise}\label{warn-otherwise}

\section{main}\label{main}

\subsection{parse command line
arguments}\label{parse-command-line-arguments}

\subsection{write table of contents to
file}\label{write-table-of-contents-to-file}

\end{document}
